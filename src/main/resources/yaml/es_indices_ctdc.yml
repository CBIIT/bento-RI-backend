Indices:
  - index_name: study
    type: neo4j
    # Type mapping for each property of the index
    mapping:
      study_name:
        type: keyword
      study_short_name:
        type: keyword
      study_id:
        type: keyword
      study_description:
        type: keyword
      study_type:
        type: keyword
      dates_of_conduct:
        type: keyword
      associated_links:
        type: nested
        properties:
          associated_link_name:
            type: keyword
          associated_link_url:
            type: keyword
      images:
        type: nested
        properties:
          image_collection_name:
            type: keyword
          image_type_included:
            type: keyword
          image_collection_url:
            type: keyword
          repository_name:
            type: keyword
          collection_access:
            type: keyword
    cypher_query: "
          MATCH (s:study)<--(links:associated_link)
          MATCH (s:study)<--(images:image_collection)
          RETURN DISTINCT
          s.study_name as study_name,
          s.study_short_name as study_short_name,
          s.study_id as study_id,
          s.study_description as study_description,
          s.study_type as study_type,
          s.dates_of_conduct as dates_of_conduct,
          COLLECT({
              image_collection_name: links.image_collection_name,
              image_type_included: links.image_type_included,
              image_collection_url: links.image_collection_url,
              repository_name: links.repository_name,
              collection_access: links.collection_access
          }) as images,
          COLLECT({
              associated_link_name: links.associated_link_name,
              associated_link_url: links.associated_link_url
          }) AS associated_links
          "